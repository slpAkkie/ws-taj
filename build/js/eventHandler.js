"use strict";function goToGameMenu(e){var a=e.end,n=e.key,o=e.click;"prehistory"===window.window.gameData.screen&&(a||n||o)&&((n||o)&&$("#prehistory video").get(0).pause(),$("#prehistory").toggleClass("hide"),$("#game-menu").toggleClass("hide"),$("#instruction p").each((function(e,a){setTimeout((function(){$(a).css({opacity:"1","margin-left":"0"})}),100*e)})),window.gameData.screen="menu",screenChangeLog())}function chooseCharacter(){$(this).hasClass("chosen")?$(this).removeClass("chosen"):$(".character").removeClass("chosen")&&$(this).addClass("chosen"),checkStartButton()}function checkStartButton(){$("#js-start").attr("disabled",!$("#characters").find(".chosen").length||!$("#nickname input").val().length)}function goToGame(){window.gameData.nickname=window.gameData.nickname||$("#nickname input").val(),window.gameData.character=window.gameData.character||$($(".chosen").get(0)).attr("data-character").toLowerCase(),window.gameData.screen="game",screenChangeLog(),$("#game-menu").addClass("hide"),$("#score-screen").addClass("hide"),$("#game-zone").removeClass("hide"),window.gameDataLog(),window.game=new Game(window.gameData.nickname,window.gameData.character)}function keypress(e){if(!e.originalEvent.repeat&&"game"==window.gameData.screen&&window.game)if("keydown"===e.type)switch(e.code){case"KeyA":window.game.pressedKey.LEFT=!0;break;case"KeyD":window.game.pressedKey.RIGHT=!0;break;case"Escape":window.game.state.isPause=!window.game.state.isPause,$("#pause-screen").toggleClass("hide");break;case"ShiftLeft":case"ShiftRight":window.game.state.isMuted=!window.game.state.isMuted}else switch(e.code){case"KeyA":window.game.pressedKey.LEFT=!1;break;case"KeyD":window.game.pressedKey.RIGHT=!1}}function screenChangeLog(){console.log("[window.gameData.screen] => ".concat(window.gameData.screen))}function gameDataLog(){console.log("[window.gameData] =>"),console.log(window.gameData)}$("#prehistory video").get(0).volume=.5,console.log("Громкость плеера установленна на ".concat($("#prehistory video").get(0).volume)),$("#prehistory video").on("ended",(function(){return goToGameMenu({end:!0})})),$(document).on("keydown",(function(e){return goToGameMenu({key:"Space"===e.code})})),$(".skip").on("click",(function(){return goToGameMenu({click:!0})})),$(".character").on("click",chooseCharacter),$("#nickname input").on("keyup",checkStartButton),$("#js-start, #js-restart").on("click",goToGame),$(document).on("keydown keyup",keypress);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImV2ZW50SGFuZGxlci5qcyJdLCJuYW1lcyI6WyJnb1RvR2FtZU1lbnUiLCJfcmVmIiwiZW5kIiwia2V5IiwiY2xpY2siLCJ3aW5kb3ciLCJnYW1lRGF0YSIsInNjcmVlbiIsIiQiLCJnZXQiLCJwYXVzZSIsInRvZ2dsZUNsYXNzIiwidiIsImNzcyIsIm9wYWNpdHkiLCJtYXJnaW4tbGVmdCIsImVhY2giLCJzY3JlZW5DaGFuZ2VMb2ciLCJjaG9vc2VDaGFyYWN0ZXIiLCJ0aGlzIiwiaGFzQ2xhc3MiLCJyZW1vdmVDbGFzcyIsImFkZENsYXNzIiwiY2hlY2tTdGFydEJ1dHRvbiIsImF0dHIiLCJmaW5kIiwibGVuZ3RoIiwidmFsIiwibmlja25hbWUiLCJjaGFyYWN0ZXIiLCJ0b0xvd2VyQ2FzZSIsImdhbWVEYXRhTG9nIiwib3JpZ2luYWxFdmVudCIsInJlcGVhdCIsInByZXNzZWRLZXkiLCJlIiwiZ2FtZSIsInR5cGUiLCJjb2RlIiwic3RhdGUiLCJMRUZUIiwiUklHSFQiLCJpc011dGVkIiwiY29uc29sZSIsImxvZyIsImNvbmNhdCIsInZvbHVtZSIsIm9uIiwiZG9jdW1lbnQiLCJnb1RvR2FtZSIsImtleXByZXNzIl0sIm1hcHBpbmdzIjoiYUFpQ0EsU0FBU0EsYUFBVEMsR0FBNkMsSUFBcEJDLEVBQW9CRCxFQUFwQkMsSUFBS0MsRUFBZUYsRUFBZkUsSUFBS0MsRUFBVUgsRUFBVkcsTUFMbkMsZUFBQUMsT0FBQUEsT0FBQUMsU0FBQUMsU0FDQUwsR0FBQUMsR0FBQUMsTUFVSUQsR0FBT0MsSUFBV0ksRUFBRyxxQkFBc0JDLElBQUssR0FBSUMsUUFOWEYsRUFBQSxlQUFBRyxZQUFBLFFBQUFILEVBQUEsY0FBQUcsWUFBQSxRQUMzQ0gsRUFBQSxrQkFDZ0JGLE1BQVNDLFNBQUFBLEVBQXZCSyxHQUlBVCxZQUFGLFdBRUdLLEVBQUFJLEdBQUFDLElBQUgsQ0FDR0MsUUFBZUgsSUFFZkksY0FBbUJDLFFBRWpCLElBQU1ILE1BQUtSLE9BQVpDLFNBQUFDLE9BQUEsT0FJRFUsbUJBU0wsU0FBU0Msa0JBQ1BWLEVBQUdXLE1BQU9DLFNBQVUsVUFEdEJaLEVBQVNVLE1BQUFBLFlBQWtCLFVBQ3RCVixFQUFILGNBQW9CYSxZQUNmLFdBQXNCYixFQUFBVyxNQUQzQkcsU0FFTyxVQUtUQyxtQkFFRWYsU0FBR2UsbUJBTUxmLEVBQUEsYUFBQWdCLEtBQUEsWUFMS2hCLEVBQUcsZUFBZ0JpQixLQUFNLFdBQVlDLFNBQ2xDbEIsRUFBRyxtQkFBb0JtQixNQUFNRCxRQVNuQ1QsU0FBQUEsV0FFQVQsT0FBR0YsU0FBZWdCLFNBQVVqQixPQUE1QkMsU0FBQXNCLFVBQUFwQixFQUFBLG1CQUFBbUIsTUFDQW5CLE9BQUdGLFNBQUF1QixVQUE0QnhCLE9BQS9CQyxTQUFBdUIsV0FBQXJCLEVBQUFBLEVBQUEsV0FBQUMsSUFBQSxJQUFBZSxLQUFBLGtCQUFBTSxjQUNBdEIsT0FBR0YsU0FBZWUsT0FBQUEsT0FFbEJoQixrQkFJRkcsRUFBQSxjQUFBYyxTQUFBLFFBUEVkLEVBQUcsaUJBQWtCYyxTQUFVLFFBQy9CZCxFQUFHLGNBQWVhLFlBQWEsUUFRL0JoQixPQUFBMEIsY0FDQTFCLE9BQU8yQixLQUFBQSxJQUFBQSxLQUFjQyxPQUFVNUIsU0FBT0MsU0FBU0MsT0FBVUQsU0FBVXVCLFdBTTdEeEIsU0FBQUEsU0FBWTZCLEdBTmxCLElBQUtDLEVBQUVILGNBQWNDLFFBQW9DLFFBQTFCNUIsT0FBT0MsU0FBU0MsUUFBcUJGLE9BQU8rQixLQVVyRSxHQUFBLFlBQUFELEVBQUFFLEtBTkosT0FBU0YsRUFBRUcsTUFPVCxJQUFLLE9BQ0hqQyxPQUFPK0IsS0FBS0csV0FBWkMsTUFBNkJuQyxFQUMxQixNQUNILElBQUEsT0FMQUEsT0FBTytCLEtBQUtGLFdBQVdPLE9BQVEsRUFNakMsTUFDQSxJQUFLLFNBQ0hwQyxPQUFPK0IsS0FBS0csTUFBTUcsU0FBV3JDLE9BQU8rQixLQUFLRyxNQUFNRyxRQUMvQ2xDLEVBQUEsaUJBQUFHLFlBQUEsUUFmTixNQW1CSSxJQUFLLFlBQ0hOLElBQUFBLGFBQ0FBLE9BQUErQixLQUFBRyxNQUFBRyxTQUFBckMsT0FBQStCLEtBQUFHLE1BQUFHLGFBR0EsT0FBQVAsRUFBQUcsTUFOSixJQUFBLE9BWUpqQyxPQUFBK0IsS0FBQUYsV0FBQU0sTUFBQSxFQVRRLE1BQ0YsSUFBSyxPQVNYbkMsT0FBU1ksS0FBQUEsV0FBa0J3QixPQUFBLEdBUTFCLFNBQUF4QixrQkFQQzBCLFFBQVFDLElBQVIsK0JBQUFDLE9BQTRDeEMsT0FBT0MsU0FBU0MsU0FJOUQsU0FBU3dCLGNBQ1BZLFFBQVFDLElBQVIsd0JBQ0FELFFBQVFDLElBQUt2QyxPQUFPQyxVQXJJdEJFLEVBQUcscUJBQXNCQyxJQUFLLEdBQUlxQyxPQUFTLEdBRDNDSCxRQUFBQyxJQUFBLG9DQUFBQyxPQUFBckMsRUFBQSxxQkFBQUMsSUFBQSxHQUFBcUMsU0FXc0N0QyxFQUFBLHFCQUFvQnVDLEdBQUEsU0FBQSxXQUFBLE9BQUEvQyxhQUFBLENBQUFFLEtBQUEsT0FBQU0sRUFBRndDLFVBQWxCRCxHQUFBLFdBQUEsU0FBQVosR0FBQSxPQUFBbkMsYUFBQSxDQUFBRyxJQUFBLFVBQUFnQyxFQUFBRyxVQUl0QzlCLEVBQUcsU0FBVXVDLEdBQUksU0FBUyxXQUFBLE9BQU0vQyxhQUFjLENBQUVJLE9BQU8sT0FGREQsRUFBQUEsY0FBSzRDLEdBQVcsUUFBQTdCLGlCQUF6Q1YsRUFPMUIsbUJBTkh1QyxHQUFBLFFBQUF4QixrQkFDQWYsRUFBRywwQkFBdUJ1QyxHQUFBLFFBQUFFLFVBQXNCN0MsRUFBQUEsVUFBTzJDLEdBQUEsZ0JBQUFHIiwiZmlsZSI6ImV2ZW50SGFuZGxlci5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKiDQo9GB0YLQsNC90L7QstC40Lwg0LPRgNC+0LzQutC+0YHRgtGMINC90LAg0L/QvtC70L7QstC40L3RgyAqL1xyXG4kKCAnI3ByZWhpc3RvcnkgdmlkZW8nICkuZ2V0KCAwICkudm9sdW1lID0gMC41O1xyXG5jb25zb2xlLmxvZyggYNCT0YDQvtC80LrQvtGB0YLRjCDQv9C70LXQtdGA0LAg0YPRgdGC0LDQvdC+0LLQu9C10L3QvdCwINC90LAgJHskKCAnI3ByZWhpc3RvcnkgdmlkZW8nICkuZ2V0KCAwICkudm9sdW1lfWAgKTtcclxuXHJcblxyXG5cclxuLyoqXHJcbiAqINCj0YHRgtCw0L3QvtCy0LjQvCDQvtCx0YDQsNCx0L7RgtGH0LjQutC4XHJcbiAqL1xyXG5cclxuLy8g0J/QviDQvtC60L7QvdGH0LDQvdC40Y4g0YDQvtC70LjQutCwXHJcbiQoICcjcHJlaGlzdG9yeSB2aWRlbycgKS5vbiggJ2VuZGVkJywgKCkgPT4gZ29Ub0dhbWVNZW51KCB7IGVuZDogdHJ1ZSB9ICkgKTtcclxuLy8g0J/QviDQvdCw0LbQsNGC0LjRjiDQv9GA0L7QsdC10LvQsFxyXG4kKCBkb2N1bWVudCApLm9uKCAna2V5ZG93bicsICggZSApID0+IGdvVG9HYW1lTWVudSggeyBrZXk6IGUuY29kZSA9PT0gJ1NwYWNlJyB9ICkgKTtcclxuLy8g0J/QviDQvdCw0LbQsNGC0LjRjiDQvdCwINC/0L7QtNGB0LrQsNC30LrRg1xyXG4kKCAnLnNraXAnICkub24oICdjbGljaycsICgpID0+IGdvVG9HYW1lTWVudSggeyBjbGljazogdHJ1ZSB9ICkgKTtcclxuXHJcbi8vINCS0YvQsdC+0YAg0L/QtdGA0YHQvtC90LDQttCwXHJcbiQoICcuY2hhcmFjdGVyJyApLm9uKCAnY2xpY2snLCBjaG9vc2VDaGFyYWN0ZXIgKTtcclxuLy8g0JLQstC+0LQg0L3QuNC60L3QtdC50LzQsFxyXG4kKCAnI25pY2tuYW1lIGlucHV0JyApLm9uKCAna2V5dXAnLCBjaGVja1N0YXJ0QnV0dG9uICk7XHJcbi8vINCa0LvQuNC6INC/0L4g0LrQvdC+0L/QutC1IFwi0J3QsNGH0LDRgtGMINC40LPRgNGDXCJcclxuJCggJyNqcy1zdGFydCwgI2pzLXJlc3RhcnQnICkub24oICdjbGljaycsIGdvVG9HYW1lICk7XHJcbi8vINCd0LDQttCw0YLQuNGPINC60LvQsNCy0LjRiFxyXG4kKCBkb2N1bWVudCApLm9uKCAna2V5ZG93biBrZXl1cCcsIGtleXByZXNzICk7XHJcblxyXG5cclxuXHJcbi8qKlxyXG4gKiDQpNC90YPQutGG0LjQuC3QvtCx0YDQsNCx0L7RgtGH0LjQutC4XHJcbiAqL1xyXG5cclxuLy8g0J/RgNC+0LLQtdGA0LrQsCDQuCDQv9C10YDQtdGF0L7QtCDQvdCwINGN0LrRgNCw0L0g0LjQs9GA0L7QstC+0LPQviDQvNC10L3RjlxyXG5mdW5jdGlvbiBnb1RvR2FtZU1lbnUoIHsgZW5kLCBrZXksIGNsaWNrIH0gKSB7XHJcbiAgaWYgKFxyXG4gICAgd2luZG93LndpbmRvdy5nYW1lRGF0YS5zY3JlZW4gIT09ICdwcmVoaXN0b3J5J1xyXG4gICAgfHwgKCAhZW5kICYmICFrZXkgJiYgIWNsaWNrIClcclxuICApIHJldHVybjtcclxuXHJcbiAgKCBrZXkgfHwgY2xpY2sgKSAmJiAkKCAnI3ByZWhpc3RvcnkgdmlkZW8nICkuZ2V0KCAwICkucGF1c2UoKTtcclxuXHJcbiAgJCggJyNwcmVoaXN0b3J5JyApLnRvZ2dsZUNsYXNzKCAnaGlkZScgKTtcclxuICAkKCAnI2dhbWUtbWVudScgKS50b2dnbGVDbGFzcyggJ2hpZGUnICk7XHJcblxyXG4gICQoICcjaW5zdHJ1Y3Rpb24gcCcgKS5lYWNoKCAoIGssIHYgKSA9PiB7XHJcbiAgICBzZXRUaW1lb3V0KCAoKSA9PiB7XHJcbiAgICAgICQoIHYgKS5jc3MoIHtcclxuICAgICAgICAnb3BhY2l0eSc6ICcxJyxcclxuICAgICAgICAnbWFyZ2luLWxlZnQnOiAnMCcsXHJcbiAgICAgIH0gKTtcclxuICAgIH0sIDEwMCAqIGsgKTtcclxuICB9ICk7XHJcblxyXG4gIHdpbmRvdy5nYW1lRGF0YS5zY3JlZW4gPSAnbWVudSc7XHJcbiAgc2NyZWVuQ2hhbmdlTG9nKCk7XHJcbn1cclxuXHJcblxyXG4vLyDQktGL0LHQvtGAINC/0LXRgNGB0L7QvdCw0LbQsFxyXG5mdW5jdGlvbiBjaG9vc2VDaGFyYWN0ZXIoKSB7XHJcbiAgJCggdGhpcyApLmhhc0NsYXNzKCAnY2hvc2VuJyApXHJcbiAgICA/ICQoIHRoaXMgKS5yZW1vdmVDbGFzcyggJ2Nob3NlbicgKVxyXG4gICAgOiAkKCAnLmNoYXJhY3RlcicgKS5yZW1vdmVDbGFzcyggJ2Nob3NlbicgKSAmJiAkKCB0aGlzICkuYWRkQ2xhc3MoICdjaG9zZW4nICk7XHJcblxyXG4gIGNoZWNrU3RhcnRCdXR0b24oKTtcclxufVxyXG5cclxuLy8g0J7QsdC90L7QstC70LXQvdC40LUg0YHQvtGB0YLQvtGP0L3QuNGPINC60L3QvtC/0LrQuCDQvdCw0YfQsNC70LAg0LjQs9GA0YtcclxuZnVuY3Rpb24gY2hlY2tTdGFydEJ1dHRvbigpIHtcclxuICAkKCAnI2pzLXN0YXJ0JyApLmF0dHIoICdkaXNhYmxlZCcsXHJcbiAgICAhJCggJyNjaGFyYWN0ZXJzJyApLmZpbmQoICcuY2hvc2VuJyApLmxlbmd0aFxyXG4gICAgfHwgISQoICcjbmlja25hbWUgaW5wdXQnICkudmFsKCkubGVuZ3RoXHJcbiAgKTtcclxufVxyXG5cclxuLy8g0J/QtdGA0LXRhdC+0LQg0Log0Y3QutGA0LDQvdGDINC40LPRgNGLXHJcbmZ1bmN0aW9uIGdvVG9HYW1lKCkge1xyXG4gIHdpbmRvdy5nYW1lRGF0YS5uaWNrbmFtZSA9IHdpbmRvdy5nYW1lRGF0YS5uaWNrbmFtZSB8fCAkKCAnI25pY2tuYW1lIGlucHV0JyApLnZhbCgpO1xyXG4gIHdpbmRvdy5nYW1lRGF0YS5jaGFyYWN0ZXIgPSB3aW5kb3cuZ2FtZURhdGEuY2hhcmFjdGVyIHx8ICQoICQoICcuY2hvc2VuJyApLmdldCggMCApICkuYXR0ciggJ2RhdGEtY2hhcmFjdGVyJyApLnRvTG93ZXJDYXNlKCk7XHJcbiAgd2luZG93LmdhbWVEYXRhLnNjcmVlbiA9ICdnYW1lJztcclxuICBzY3JlZW5DaGFuZ2VMb2coKTtcclxuXHJcbiAgJCggJyNnYW1lLW1lbnUnICkuYWRkQ2xhc3MoICdoaWRlJyApO1xyXG4gICQoICcjc2NvcmUtc2NyZWVuJyApLmFkZENsYXNzKCAnaGlkZScgKTtcclxuICAkKCAnI2dhbWUtem9uZScgKS5yZW1vdmVDbGFzcyggJ2hpZGUnICk7XHJcblxyXG4gIHdpbmRvdy5nYW1lRGF0YUxvZygpO1xyXG4gIHdpbmRvdy5nYW1lID0gbmV3IEdhbWUoIHdpbmRvdy5nYW1lRGF0YS5uaWNrbmFtZSwgd2luZG93LmdhbWVEYXRhLmNoYXJhY3RlciApO1xyXG59XHJcblxyXG4vLyDQmNC30LzQtdC90Y/QtdC8INGB0L7RgdGC0L7Rj9C90LjQtSDQvdCw0LbQsNGC0YvRhSDQutC70LDQstC40YhcclxuZnVuY3Rpb24ga2V5cHJlc3MoIGUgKSB7XHJcbiAgLy8g0JXRgdC70Lgg0LrQvdC+0L/QutCwINC30LDQttCw0YLQsCwg0YLQviDQstGL0YXQvtC00LjQvFxyXG4gIGlmICggZS5vcmlnaW5hbEV2ZW50LnJlcGVhdCB8fCB3aW5kb3cuZ2FtZURhdGEuc2NyZWVuICE9ICdnYW1lJyB8fCAhd2luZG93LmdhbWUgKSByZXR1cm47XHJcblxyXG4gIC8vINCV0YHQu9C4INC60L3QvtC/0LrQuCDQv9C10YDQtdC00LLQuNC20LXQvdC40Y8sINGC0L4g0L/QtdGA0LXQutC70Y7Rh9Cw0LXQvCDQtNC10LnRgdGC0LLQuNC1INC40LPRgNC+0LrQsFxyXG4gIGlmICggZS50eXBlID09PSAna2V5ZG93bicgKVxyXG4gICAgc3dpdGNoICggZS5jb2RlICkge1xyXG4gICAgICBjYXNlICdLZXlBJzpcclxuICAgICAgICB3aW5kb3cuZ2FtZS5wcmVzc2VkS2V5LkxFRlQgPSB0cnVlO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlICdLZXlEJzpcclxuICAgICAgICB3aW5kb3cuZ2FtZS5wcmVzc2VkS2V5LlJJR0hUID0gdHJ1ZTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAnRXNjYXBlJzpcclxuICAgICAgICB3aW5kb3cuZ2FtZS5zdGF0ZS5pc1BhdXNlID0gIXdpbmRvdy5nYW1lLnN0YXRlLmlzUGF1c2U7XHJcbiAgICAgICAgJCggJyNwYXVzZS1zY3JlZW4nICkudG9nZ2xlQ2xhc3MoICdoaWRlJyApO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlICdTaGlmdExlZnQnOlxyXG4gICAgICBjYXNlICdTaGlmdFJpZ2h0JzpcclxuICAgICAgICB3aW5kb3cuZ2FtZS5zdGF0ZS5pc011dGVkID0gIXdpbmRvdy5nYW1lLnN0YXRlLmlzTXV0ZWQ7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbiAgZWxzZVxyXG4gICAgc3dpdGNoICggZS5jb2RlICkge1xyXG4gICAgICBjYXNlICdLZXlBJzpcclxuICAgICAgICB3aW5kb3cuZ2FtZS5wcmVzc2VkS2V5LkxFRlQgPSBmYWxzZTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAnS2V5RCc6XHJcbiAgICAgICAgd2luZG93LmdhbWUucHJlc3NlZEtleS5SSUdIVCA9IGZhbHNlO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuXHJcbi8vINCS0YvQstC+0LQg0LjQt9C80LXQvdC10L3QuNGPINGC0LXQutGD0YnQtdCz0L4g0Y3QutGA0LDQvdCwXHJcbmZ1bmN0aW9uIHNjcmVlbkNoYW5nZUxvZygpIHtcclxuICBjb25zb2xlLmxvZyggYFt3aW5kb3cuZ2FtZURhdGEuc2NyZWVuXSA9PiAke3dpbmRvdy5nYW1lRGF0YS5zY3JlZW59YCApO1xyXG59XHJcblxyXG4vLyDQktGL0LLQvtC0INC90LDQuNC80LXQvdC+0LLQsNC90LjRjyDRgtC10LrRg9GJ0LXQs9C+INGN0LrRgNCw0L3QsFxyXG5mdW5jdGlvbiBnYW1lRGF0YUxvZygpIHtcclxuICBjb25zb2xlLmxvZyggYFt3aW5kb3cuZ2FtZURhdGFdID0+YCApO1xyXG4gIGNvbnNvbGUubG9nKCB3aW5kb3cuZ2FtZURhdGEgKTtcclxufSJdfQ==
